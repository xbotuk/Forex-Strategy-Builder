<?xml version="1.0"?>
<strategy>
  <programName>Forex Strategy Builder</programName>
  <programVersion>2.74.0.0</programVersion>
  <strategyName>Demo MACD Reversal</strategyName>
  <instrumentSymbol>EURUSD</instrumentSymbol>
  <instrumentPeriod>1440</instrumentPeriod>
  <sameDirSignalAction>Nothing</sameDirSignalAction>
  <oppDirSignalAction>Reverse</oppDirSignalAction>
  <permanentStopLoss usePermanentSL="True" permanentSLType="Relative">2000</permanentStopLoss>
  <permanentTakeProfit usePermanentTP="False" permanentTPType="Relative">1000</permanentTakeProfit>
  <breakEven useBreakEven="False">100</breakEven>
  <maxOpenLots>20</maxOpenLots>
  <useAccountPercentEntry>False</useAccountPercentEntry>
  <entryLots>1</entryLots>
  <addingLots>1</addingLots>
  <reducingLots>1</reducingLots>
  <useMartingale>False</useMartingale>
  <martingaleMultiplier>2</martingaleMultiplier>
  <description>"MACD Reversal" strategy demonstrates the "Close and Reverse" technique of forex trading.

This is a classic reversal strategy with additional stop-loss. It keeps our position opened almost 100% of the time.

We get a signal when the MACD line crosses the zero line, and that signal reverses our position when the next bar opens.

The "Close and Reverse" logic, which is set in the "Closing Point of the Position" slot, is the condition that determines the reversal every time we get a signal. Whenever Forex Strategy Builder gets such signal it closes the current position and immediately opens a new one in the opposite direction.

Notice that the “Opposite direction signal” dropdown menu in the strategy properties dialog is locked to "Reverse" mode. The "Close and Reverse" exit logic makes this the only possible option.

The "Permanent Stop Loss" limits our loss to 2000 pips (you have to set 200 for 4 digits quotation). When the market reaches the stop loss level, the strategy closes the position without reversing it. That is the only time when we are out of the market.

The value of the "Same direction signal behavior" is not important here because it is impossible to have another signal in the same direction. MACD cannot cross the zero line twice in the same direction which means that the next signal we get will always be in the opposite direction to our current position.
</description>
  <openFilters>1</openFilters>
  <closeFilters>0</closeFilters>
  <slot slotNumber="0" slotType="Open">
    <indicatorName>Bar Opening</indicatorName>
    <listParam paramNumber="0">
      <caption>Logic</caption>
      <index>0</index>
      <value>Enter the market at the beginning of the bar</value>
    </listParam>
    <listParam paramNumber="1">
      <caption>Base price</caption>
      <index>0</index>
      <value>Open</value>
    </listParam>
  </slot>
  <slot slotNumber="1" slotType="OpenFilter" logicalGroup="A">
    <indicatorName>MACD</indicatorName>
    <listParam paramNumber="0">
      <caption>Logic</caption>
      <index>4</index>
      <value>The MACD line crosses the zero line upward</value>
    </listParam>
    <listParam paramNumber="1">
      <caption>Smoothing method</caption>
      <index>2</index>
      <value>Exponential</value>
    </listParam>
    <listParam paramNumber="2">
      <caption>Base price</caption>
      <index>3</index>
      <value>Close</value>
    </listParam>
    <listParam paramNumber="3">
      <caption>Signal line method</caption>
      <index>0</index>
      <value>Simple</value>
    </listParam>
    <numParam paramNumber="0">
      <caption>Slow MA period</caption>
      <value>26</value>
    </numParam>
    <numParam paramNumber="1">
      <caption>Fast MA period</caption>
      <value>12</value>
    </numParam>
    <numParam paramNumber="2">
      <caption>Signal line period</caption>
      <value>9</value>
    </numParam>
    <checkParam paramNumber="0">
      <caption>Use previous bar value</caption>
      <value>True</value>
    </checkParam>
  </slot>
  <slot slotNumber="2" slotType="Close">
    <indicatorName>Close and Reverse</indicatorName>
    <listParam paramNumber="0">
      <caption>Logic</caption>
      <index>0</index>
      <value>Close all positions and open a new one in the opposite direction</value>
    </listParam>
  </slot>
  <AccountBalance>140175.00 USD</AccountBalance>
  <ProfitPerDay>16.35 USD</ProfitPerDay>
  <WinLossRatio>0.36</WinLossRatio>
  <AccountStatsParam>Intrabar scanning;Interpolation method;Ambiguous bars;Profit per day;Tested bars;Initial account;Account balance;Minimum account;Maximum account;Maximum drawdown;Max equity drawdown;Max equity drawdown;Gross profit;Gross loss;Sent orders;Executed orders;Traded lots;Winning trades;Losing trades;Win/loss ratio;Time in position;Charged spread;Charged rollover;Charged commission;Charged slippage;Total charges;Balance without charges;Account exchange rate</AccountStatsParam>
  <AccountStatsValue>Not accomplished;Pessimistic;0;16.35 USD;5674;10000.00 USD;140175.00 USD;10000.00 USD;144227.00 USD;13684.00 USD;25556.00 USD;47.35 %;293171.00 USD;-162996.00 USD;5274;214;298.00;53;96;0.36;90 %;2980.00 USD;14192.00 USD;0.00 USD;0.00 USD;17172.00 USD;157347.00 USD;Not used</AccountStatsValue>
  <MarketStatsParam>Symbol;Period;Number of bars;Date of updating;Time of updating;Date of beginning;Time of beginning;Minimum price;Maximum price;Average Gap;Maximum Gap;Average High-Low;Maximum High-Low;Average Close-Open;Maximum Close-Open;Maximum days off;Maximum data bars;No data older than;No data newer than;Fill In Data Gaps;Cut Off Bad Data</MarketStatsParam>
  <MarketStatsValue>EURUSD;1 Day;5715;10/06/11;00:00;26/06/89;00:00;0.8225;1.6038;57 pips;4780 pips;1210 pips;6119 pips;603 pips;4556 pips;4;20000;No limits;No limits;Switched off;Switched off</MarketStatsValue>
  <BalanceLine>10000;10000;10000;10000;10000;10000;10000;10000;10000;10000;10000;10000;10000;10000;10000;10000;10000;10000;12886;18268;18268;18268;18268;18268;18268;18673;18846;17863;17442;17442;17442;17442;17442;17442;17442;17442;17442;17442;17442;17442;19368;25413;25044;25044;25044;23533;22966;22966;22966;22966;22966;22966;22966;22966;22966;22966;32477;40402;38759;36308;36308;36308;36308;36610;35754;35754;35754;35754;35754;36550;37238;37238;37238;37238;37238;37238;35574;34385;33156;33156;33156;33156;33156;33156;33156;33156;33156;33156;39989;39825;37097;36692;36692;36692;36692;35665;34980;34893;32456;32088;32088;32088;31799;31558;31558;31558;32590;30073;28784;28784;28784;28784;28784;31631;32698;32698;32698;32698;33223;33340;33340;33340;33340;33340;33340;33340;33340;36017;36612;36612;36668;36893;35656;35656;35656;35656;35656;35656;35656;35656;35656;35656;35656;35656;35656;35656;35656;41840;45962;45962;45962;46602;46842;46842;46842;46842;46842;46842;46842;46842;47890;57121;55280;55280;55280;55280;55280;55052;54824;54824;54824;56586;57026;57026;57026;56963;56330;56330;56330;56330;56330;56330;56460;54966;54966;54966;54966;54966;54966;54966;54966;56904;55881;55696;55696;55696;55696;55696;55696;55696;55696;56251;56714;56053;54896;54896;54896;54896;54896;54896;54896;54896;56726;63336;62930;62512;60842;59607;58784;58784;58784;58784;58784;58784;60750;60734;60734;60734;60734;60734;60734;60734;60734;60734;60734;60734;60734;60734;62258;62830;61451;59502;59502;59502;59502;59449;57680;57274;57274;57274;57041;55571;54458;54458;54458;54458;54972;60108;60108;59416;57977;56670;56670;56670;56670;56670;56670;56670;56670;56670;56670;56670;56670;56670;56670;56670;64782;68258;68210;66509;63847;62227;61612;60576;59540;59540;59540;59540;59540;60375;59442;59442;59442;59442;59442;59442;59442;59442;59442;59442;66776;66776;66776;66719;66662;66662;66662;66662;66662;66662;66662;66662;66662;67780;72810;72810;72810;72810;72810;75353;77472;75062;74008;74008;74008;74008;74008;74008;74008;74008;74008;76798;77496;77496;77496;77496;77496;77788;80706;80706;80706;80706;81326;79181;77193;75902;75902;75902;75964;76582;76582;76582;76582;76582;76582;76582;76582;76582;76582;76582;83317;86204;83937;82100;81683;80910;79052;77824;77824;77430;76616;76616;76616;76616;76616;76616;76616;76616;81737;80614;80614;80614;80614;80614;80614;82406;85542;85542;85542;85542;85542;85970;86720;86720;86720;87287;86291;86106;86106;86106;86106;86106;86106;86106;90628;92566;92566;92566;92566;92566;92915;96052;96052;96052;96052;95770;94051;92293;91090;89226;89226;89226;89226;89226;89226;89226;89226;89226;95773;97410;97410;96893;96272;95329;94198;94198;94198;94198;94198;94198;94198;94198;94198;95946;99651;97974;97974;97974;97974;97974;97974;97974;97974;98320;99037;95539;95172;95115;94550;94550;94086;93390;93390;93390;93390;93390;93390;95984;98017;96113;93553;92442;92442;92442;91877;91736;91736;91667;90976;90976;90976;90976;90976;92931;93126;92830;91644;91644;91644;91644;91644;91644;91644;94313;94610;94610;93683;93580;93580;93483;93402;92234;91796;91796;91796;91796;91796;91796;93066;97763;96744;95101;94690;93468;92654;92654;92654;92654;92654;98004;96960;93599;90472;88610;88424;87477;86340;86340;86340;86340;86340;86340;86340;86340;86340;88544;108382;108382;105383;104272;104272;104272;104272;104272;104272;102889;101062;101062;101062;101062;101062;101062;101062;101062;101062;101062;101062;101062;101062;101062;101062;101062;101062;113766;115177;115177;115177;115177;115177;115177;115177;115177;115177;115177;115177;115177;115177;115177;124984;136752;136752;136752;137111;135718;135718;135718;135718;135718;136888;138268;138268;138268;138268;138268;138268;138268;138268;138268;138268;138268</BalanceLine>
  <EquityLine>10000;10000;10000;10000;10000;10000;10038;10867;11339;13209;12769;15245;17684;20784;22616;21987;23382;23532;21378;18268;18268;18799;18799;20374;20478;19381;19001;17904;18459;20736;23241;25308;24277;24224;25386;28284;28775;31153;31756;30727;30139;25360;25044;25478;26580;23685;27171;34059;34796;37622;38325;37234;37987;41767;42927;43502;41205;42565;39374;35953;39395;40254;39144;37789;37536;40188;40807;43938;47292;40780;37238;37238;37238;37238;37238;37320;35461;33826;34540;34766;36598;39116;43123;45266;45545;47188;52142;49696;40948;39595;36850;36692;36692;36692;36692;36337;37950;35895;33059;32338;32807;33489;32719;33689;34781;34294;33561;29885;31446;34135;35061;35251;34591;32977;36150;37313;36356;37027;34495;34936;35972;36059;35776;37281;38172;38024;38355;36871;37780;39071;38009;36640;37496;37303;38454;37761;42126;44389;44404;43338;45102;44961;45917;45828;46049;49624;49058;46761;47593;48106;47729;47639;49729;49625;51796;57180;60652;61372;61892;63454;62006;57740;55280;55833;57297;56565;57310;56223;60889;60579;60407;57244;58251;60049;58514;58559;56497;56442;56228;57813;60393;59157;56459;54884;54761;55343;57471;59141;59169;59969;59216;57129;55831;55696;55696;55696;55696;56157;56916;58143;58398;56691;57207;56436;56167;56432;57808;61560;63574;66292;66915;66902;65709;63729;63445;62835;60673;59191;58616;59448;61626;64631;66794;64892;61425;60734;60734;60734;60734;60734;60734;61475;61376;62732;64336;63163;63408;63548;62856;63039;61000;60266;61081;61302;61440;60376;57432;57274;57319;57711;56953;56146;58019;59711;63084;63110;61268;60340;61145;59125;57227;57041;58042;60325;61963;64412;64071;65529;65874;67214;66564;67384;69383;69390;70201;71046;69381;70129;68477;65710;63189;62037;62322;60705;60871;62300;63399;63643;63013;60340;61496;62236;62097;64240;63677;64635;65467;69097;70224;68963;68294;67990;68083;67174;67976;69394;70266;72698;73480;72740;75403;75085;74337;74729;74214;77330;80051;79385;78531;78051;77306;75162;76090;75744;75690;76085;77628;79675;79528;79535;79779;77666;78435;81210;80566;81401;81783;81169;81709;81776;83350;82464;81763;78745;76592;76901;77263;77022;76963;77042;76646;77296;78857;80077;81258;83006;84768;87340;88919;87623;85938;85804;83320;82411;81456;80536;78689;79548;78577;77281;78448;80061;81215;83546;84353;83833;84651;85100;82218;80614;80820;84000;87173;89251;88987;86200;86062;86078;86214;88193;90482;87207;89221;90991;90754;88623;86491;88245;91037;92814;94539;93075;93910;94685;93764;94377;95427;96878;98228;97741;97203;97030;95709;96939;98687;96244;94061;92179;90689;88924;89760;90730;93784;95634;97744;99813;100164;100759;97454;98166;99451;96710;97153;95737;94548;93759;94425;96440;98829;101557;102167;103317;102489;101419;99796;97974;97974;98356;99001;99079;99571;101839;101406;100289;97860;96161;96722;95471;94916;94719;94367;93334;94316;96705;99772;100758;100663;98491;97860;95651;93130;92850;92780;92755;91664;91452;93026;92108;91136;92603;95854;94924;94337;93552;93318;92613;91992;91922;93420;93983;95841;96150;95248;94589;95067;94577;94666;95960;95295;94330;92519;93136;95946;96296;97395;99914;101681;102350;100433;97846;96610;94868;94601;93211;96815;99841;101350;102416;101271;98190;96743;93591;89932;88483;89237;87434;91081;94712;99034;97962;101881;107351;113845;114818;114673;112742;114489;112153;105317;104272;104272;104272;104726;108357;106947;103164;101997;105302;108856;107637;108186;107971;109763;110469;110235;110884;114035;114397;115700;116964;116455;117208;117300;117518;119039;118587;122133;125032;126540;125934;126973;127798;127262;130830;136922;138812;141181;138888;138015;139635;142240;140752;137364;135718;138562;143661;144851;145203;141362;138268;138268;138268;138268;139002;140437;139695;141931;143374;145052;147163</EquityLine>
</strategy>